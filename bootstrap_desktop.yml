- name: Generate SSH keypair and register it with GitHub
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
    - include_tasks: tasks/ssh.yml
    - include_tasks: tasks/common_packages.yml
    - include_tasks: tasks/desktop_packages.yml
    - include_tasks: tasks/firefox.yml

    - name: Copy SSH public key to clipboard
      shell: xclip -sel clip < ~/.ssh/id_rsa.pub

    - name: Open GitHub SSH keys page in Firefox
      command: firefox https://github.com/settings/keys
